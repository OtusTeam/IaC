aleksey@first:~/OtusTeam/IaC/les13/galaxy$ ansible-playbook pip_and_docker_install.yml 

PLAY [all] ***********************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************************************************************************************
ok: [test]

TASK [geerlingguy.pip : Ensure Pip is installed.] ********************************************************************************************************************************************************************************************
changed: [test]

TASK [geerlingguy.pip : Ensure pip_install_packages are installed.] **************************************************************************************************************************************************************************
changed: [test] => (item={'name': 'docker'})

TASK [geerlingguy.docker : Load OS-specific vars.] *******************************************************************************************************************************************************************************************
ok: [test]

TASK [geerlingguy.docker : include_tasks] ****************************************************************************************************************************************************************************************************
skipping: [test]

TASK [geerlingguy.docker : include_tasks] ****************************************************************************************************************************************************************************************************
included: /home/aleksey/OtusTeam/IaC/les13/galaxy/roles_imported/geerlingguy.docker/tasks/setup-Debian.yml for test

TASK [geerlingguy.docker : Ensure old versions of Docker are not installed.] *****************************************************************************************************************************************************************
ok: [test]

TASK [geerlingguy.docker : Ensure dependencies are installed.] *******************************************************************************************************************************************************************************
changed: [test]

TASK [geerlingguy.docker : Ensure directory exists for /etc/apt/keyrings] ********************************************************************************************************************************************************************
ok: [test]

TASK [geerlingguy.docker : Add Docker apt key.] **********************************************************************************************************************************************************************************************
changed: [test]

TASK [geerlingguy.docker : Ensure curl is present (on older systems without SNI).] ***********************************************************************************************************************************************************
skipping: [test]

TASK [geerlingguy.docker : Add Docker apt key (alternative for older systems without SNI).] **************************************************************************************************************************************************
skipping: [test]

TASK [geerlingguy.docker : Add Docker repository.] *******************************************************************************************************************************************************************************************
changed: [test]

TASK [geerlingguy.docker : Install Docker packages.] *****************************************************************************************************************************************************************************************
skipping: [test]

TASK [geerlingguy.docker : Install Docker packages (with downgrade option).] *****************************************************************************************************************************************************************
changed: [test]

TASK [geerlingguy.docker : Install docker-compose plugin.] ***********************************************************************************************************************************************************************************
skipping: [test]

TASK [geerlingguy.docker : Install docker-compose-plugin (with downgrade option).] ***********************************************************************************************************************************************************
ok: [test]

TASK [geerlingguy.docker : Ensure /etc/docker/ directory exists.] ****************************************************************************************************************************************************************************
skipping: [test]

TASK [geerlingguy.docker : Configure Docker daemon options.] *********************************************************************************************************************************************************************************
skipping: [test]

TASK [geerlingguy.docker : Ensure Docker is started and enabled at boot.] ********************************************************************************************************************************************************************
ok: [test]

TASK [geerlingguy.docker : Ensure handlers are notified now to avoid firewall conflicts.] ****************************************************************************************************************************************************

RUNNING HANDLER [geerlingguy.docker : restart docker] ****************************************************************************************************************************************************************************************
changed: [test]

TASK [geerlingguy.docker : include_tasks] ****************************************************************************************************************************************************************************************************
skipping: [test]

TASK [geerlingguy.docker : Get docker group info using getent.] ******************************************************************************************************************************************************************************
ok: [test]

TASK [geerlingguy.docker : Check if there are any users to add to the docker group.] *********************************************************************************************************************************************************
ok: [test] => (item=yc-user)

TASK [geerlingguy.docker : include_tasks] ****************************************************************************************************************************************************************************************************
included: /home/aleksey/OtusTeam/IaC/les13/galaxy/roles_imported/geerlingguy.docker/tasks/docker-users.yml for test

TASK [geerlingguy.docker : Ensure docker users are added to the docker group.] ***************************************************************************************************************************************************************
changed: [test] => (item=yc-user)

TASK [geerlingguy.docker : Reset ssh connection to apply user changes.] **********************************************************************************************************************************************************************

TASK [print vars values] *********************************************************************************************************************************************************************************************************************
skipping: [test]

TASK [second print vars values] **************************************************************************************************************************************************************************************************************
skipping: [test] => (item=['yc-user'].) 
skipping: [test]

PLAY RECAP ***********************************************************************************************************************************************************************************************************************************
test                       : ok=18   changed=8    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0   

aleksey@first:~/OtusTeam/IaC/les13/galaxy$ ansible-playbook docker_ansible_run.yml 

PLAY [Создание и запуск в docker контейнера ansible с выводом --version] *********************************************************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************************************************************************************
ok: [test]

TASK [Создание и выполнение Docker контейнера] ***********************************************************************************************************************************************************************************************
[DEPRECATION WARNING]: The container_default_behavior option will change its default value from "compatibility" to "no_defaults" in community.docker 2.0.0. To remove this warning, please specify an explicit value for it now. This feature
 will be removed from community.docker in version 2.0.0. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
changed: [test]

TASK [Show results] **************************************************************************************************************************************************************************************************************************
ok: [test] => {
    "msg": "ansible [core 2.15.2]\n  config file = None\n  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']\n  ansible python module location = /usr/local/lib/python3.9/dist-packages/ansible\n  ansible collection location = /root/.ansible/collections:/usr/share/ansible/collections\n  executable location = /usr/local/bin/ansible\n  python version = 3.9.2 (default, Feb 28 2021, 17:03:44) [GCC 10.2.1 20210110] (/usr/bin/python3)\n  jinja version = 3.1.2\n  libyaml = True\n"
}

PLAY RECAP ***********************************************************************************************************************************************************************************************************************************
test                       : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

