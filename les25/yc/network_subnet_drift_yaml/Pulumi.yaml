name: yc-network-subnet-drift
runtime: yaml
description: Pulumi stack to create Yandex.Cloud VPC network and subnet

variables:
  prefix: ${config:prefix}
  cidr: ${config:cidr}

resources:
  network:
    type: yandex:VpcNetwork
    properties:
      name: ${prefix}-pulumi-vpc
      description: VPC created by Pulumi

  subnet:
    type: yandex:VpcSubnet
    properties:
      name: ${prefix}-subnet-drift
      v4CidrBlocks:
        - ${cidr}
      networkId: ${network.id} 

outputs:
  network_id: ${network.id}
  subnet_id: ${subnet.id}
  subnet_name: ${subnet.name}
