(.venv) za@za-Vivobook-ASUSLaptop-M3504YA-M3504YA:~/Documents/IaC/2git/les25/yc_s3_yaml$ ./run.sh 
++ rm object.txt
rm: невозможно удалить 'object.txt': Нет такого файла или каталога
+++ yc config get cloud-id
++ YC_CLOUD_ID=b1glq0cg9jigrj5lcp63
++ YC_FOLDER_ID=b1gmesrdjgklgkvcp704
++ YC_PREFIX=les25
++ set +x
Enter Pulumi passphrase: 
Created stack 'dev'
++ pulumi config set yandex:cloudId b1glq0cg9jigrj5lcp63
++ pulumi config set yandex:folderId b1gmesrdjgklgkvcp704
++ pulumi config set prefix les25
++ pulumi up
Previewing update (dev):
     Type                                              Name                 Plan       
 +   pulumi:pulumi:Stack                               yc-object-hello-dev  create     
 +   ├─ yandex:index:IamServiceAccount                 sa                   create     
 +   ├─ yandex:index:ResourcemanagerFolderIamMember    saEditor             create     
 +   ├─ yandex:index:IamServiceAccountStaticAccessKey  saKey                create     
 +   ├─ yandex:index:StorageBucket                     bucket               create     
 +   └─ yandex:index:StorageObject                     helloObject          create     

Outputs:
    accessKey : [unknown]
    bucketName: "les25-bucket"
    objectKey : "hello.txt"
    secretKey : [unknown]

Resources:
    + 6 to create

Do you want to perform this update? yes
Updating (dev):
     Type                                              Name                 Status              
 +   pulumi:pulumi:Stack                               yc-object-hello-dev  created (11s)       
 +   ├─ yandex:index:IamServiceAccount                 sa                   created (3s)        
 +   ├─ yandex:index:ResourcemanagerFolderIamMember    saEditor             created (2s)        
 +   ├─ yandex:index:IamServiceAccountStaticAccessKey  saKey                created (1s)        
 +   ├─ yandex:index:StorageBucket                     bucket               created (2s)        
 +   └─ yandex:index:StorageObject                     helloObject          created (0.21s)     

Outputs:
    accessKey : "YCAJEimM6qPLMH274W6ALfZQB"
    bucketName: "les25-bucket"
    objectKey : "hello.txt"
    secretKey : [secret]

Resources:
    + 6 created

Duration: 12s

++ pulumi stack output
Current stack outputs (4):
    OUTPUT      VALUE
    accessKey   YCAJEimM6qPLMH274W6ALfZQB
    bucketName  les25-bucket
    objectKey   hello.txt
    secretKey   [secret]
+++ pulumi stack output bucketName
++ yc storage bucket get les25-bucket
name: les25-bucket
folder_id: b1gmesrdjgklgkvcp704
anonymous_access_flags:
  read: false
  list: false
  config_read: false
default_storage_class: STANDARD
versioning: VERSIONING_DISABLED
created_at: "2026-02-10T08:55:39.197332Z"
resource_id: e3e4nbj60grrji2bggkd

+++ pulumi stack output bucketName
+++ pulumi stack output objectKey
++ yc storage s3api get-object --bucket les25-bucket --key hello.txt ./object.txt
etag: '"65a8e27d8879283831b664bd8b7f0ad4"'
request_id: ce852bee7e2e9c09
accept_ranges: bytes
content_length: "13"
content_type: application/octet-stream
last_modified_at: "2026-02-10T08:55:41Z"

++ set +x

Содержимое объекта: Hello, World!

++ rm object.txt
++ pulumi destroy
Previewing destroy (dev):
     Type                                              Name                 Plan       
 -   pulumi:pulumi:Stack                               yc-object-hello-dev  delete     
 -   ├─ yandex:index:ResourcemanagerFolderIamMember    saEditor             delete     
 -   ├─ yandex:index:IamServiceAccount                 sa                   delete     
 -   ├─ yandex:index:StorageObject                     helloObject          delete     
 -   ├─ yandex:index:StorageBucket                     bucket               delete     
 -   └─ yandex:index:IamServiceAccountStaticAccessKey  saKey                delete     

Outputs:
  - accessKey : "YCAJEimM6qPLMH274W6ALfZQB"
  - bucketName: "les25-bucket"
  - objectKey : "hello.txt"
  - secretKey : [secret]

Resources:
    - 6 to delete

Do you want to perform this destroy? yes
Destroying (dev):
     Type                                              Name                 Status              
 -   pulumi:pulumi:Stack                               yc-object-hello-dev  deleted (0.03s)     
 -   ├─ yandex:index:StorageObject                     helloObject          deleted (0.34s)     
 -   ├─ yandex:index:StorageBucket                     bucket               deleted (11s)       
 -   ├─ yandex:index:IamServiceAccountStaticAccessKey  saKey                deleted (0.94s)     
 -   ├─ yandex:index:ResourcemanagerFolderIamMember    saEditor             deleted (3s)        
 -   └─ yandex:index:IamServiceAccount                 sa                   deleted (2s)        

Outputs:
  - accessKey : "YCAJEimM6qPLMH274W6ALfZQB"
  - bucketName: "les25-bucket"
  - objectKey : "hello.txt"
  - secretKey : [secret]

Resources:
    - 6 deleted

Duration: 20s

The resources in the stack have been deleted, but the history and configuration associated with the stack are still maintained. 
If you want to remove the stack completely, run `pulumi stack rm dev`.
++ pulumi stack rm dev
This will permanently remove the 'dev' stack!
Please confirm that this is what you'd like to do by typing `dev`: dev
Stack 'dev' has been removed!
++ set +x
