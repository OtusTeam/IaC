(.venv) za@za-Vivobook-ASUSLaptop-M3504YA-M3504YA:~/Documents/IaC/2git/les25/yc_s3$ ./run.sh 
+++ yc config get cloud-id
++ YC_CLOUD_ID=b1glq0cg9jigrj5lcp63
++ YC_FOLDER_ID=b1gmesrdjgklgkvcp704
++ YC_PREFIX=les25
++ FROM_URL=https://jsonplaceholder.typicode.com/posts
++ set +x
Enter Pulumi passphrase: 
Created stack 'dev'
++ pulumi config set yandex:cloudId b1glq0cg9jigrj5lcp63
++ pulumi config set yandex:folderId b1gmesrdjgklgkvcp704
++ pulumi config set yandex:prefix les25
++ pulumi config set yandex:fromUrl https://jsonplaceholder.typicode.com/posts
++ pulumi config
KEY              VALUE
pulumi:tags      {"pulumi:template":"yandex-python"}
yandex:cloudId   b1glq0cg9jigrj5lcp63
yandex:folderId  b1gmesrdjgklgkvcp704
yandex:fromUrl   https://jsonplaceholder.typicode.com/posts
yandex:prefix    les25
yandex:token     [secret]
++ pulumi preview
Previewing update (dev):
     Type                                              Name                    Plan       Info
 +   pulumi:pulumi:Stack                               yc_s3-dev               create     2 messages
 +   ├─ pulumi:providers:yandex                        yandex                  create     
 +   ├─ yandex:index:IamServiceAccount                 les25-s3                create     
 +   ├─ yandex:index:ResourcemanagerFolderIamMember    les25sa-storage-editor  create     
 +   ├─ yandex:index:IamServiceAccountStaticAccessKey  les25sa-static-key      create     
 +   ├─ yandex:index:StorageBucket                     les25-s3-dev            create     
 +   ├─ yandex:index:StorageObject                     obj-1                   create     
 +   ├─ yandex:index:StorageObject                     obj-2                   create     
 +   └─ yandex:index:StorageObject                     obj-3                   create     

Diagnostics:
  pulumi:pulumi:Stack (yc_s3-dev):
    /home/za/Documents/IaC/2git/les25/yc_s3/.venv/lib/python3.10/site-packages/pulumi_yandex/_utilities.py:10: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
      import pkg_resources

Outputs:
    bucket_name     : "les25-s3-dev"
    created_keys    : [
        [0]: "post-1.txt"
        [1]: "post-2.txt"
        [2]: "post-3.txt"
    ]
    sa_access_key_id: [unknown]
    sa_secret_key   : [unknown]

Resources:
    + 9 to create

++ pulumi up
Previewing update (dev):
     Type                                              Name                    Plan       Info
 +   pulumi:pulumi:Stack                               yc_s3-dev               create     2 messages
 +   ├─ pulumi:providers:yandex                        yandex                  create     
 +   ├─ yandex:index:IamServiceAccount                 les25-s3                create     
 +   ├─ yandex:index:ResourcemanagerFolderIamMember    les25sa-storage-editor  create     
 +   ├─ yandex:index:IamServiceAccountStaticAccessKey  les25sa-static-key      create     
 +   ├─ yandex:index:StorageBucket                     les25-s3-dev            create     
 +   ├─ yandex:index:StorageObject                     obj-2                   create     
 +   ├─ yandex:index:StorageObject                     obj-3                   create     
 +   └─ yandex:index:StorageObject                     obj-1                   create     

Diagnostics:
  pulumi:pulumi:Stack (yc_s3-dev):
    /home/za/Documents/IaC/2git/les25/yc_s3/.venv/lib/python3.10/site-packages/pulumi_yandex/_utilities.py:10: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
      import pkg_resources

Outputs:
    bucket_name     : "les25-s3-dev"
    created_keys    : [
        [0]: "post-1.txt"
        [1]: "post-2.txt"
        [2]: "post-3.txt"
    ]
    sa_access_key_id: [unknown]
    sa_secret_key   : [unknown]

Resources:
    + 9 to create

Do you want to perform this update? yes
Updating (dev):
     Type                                              Name                    Status              Info
 +   pulumi:pulumi:Stack                               yc_s3-dev               created (9s)        2 messages
 +   ├─ pulumi:providers:yandex                        yandex                  created (0.00s)     
 +   ├─ yandex:index:IamServiceAccount                 les25-s3                created (2s)        
 +   ├─ yandex:index:ResourcemanagerFolderIamMember    les25sa-storage-editor  created (2s)        
 +   ├─ yandex:index:IamServiceAccountStaticAccessKey  les25sa-static-key      created (1s)        
 +   ├─ yandex:index:StorageBucket                     les25-s3-dev            created (2s)        
 +   ├─ yandex:index:StorageObject                     obj-1                   created (0.19s)     
 +   ├─ yandex:index:StorageObject                     obj-3                   created (0.22s)     
 +   └─ yandex:index:StorageObject                     obj-2                   created (0.22s)     

Diagnostics:
  pulumi:pulumi:Stack (yc_s3-dev):
    /home/za/Documents/IaC/2git/les25/yc_s3/.venv/lib/python3.10/site-packages/pulumi_yandex/_utilities.py:10: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
      import pkg_resources

Outputs:
    bucket_name     : "les25-s3-dev"
    created_keys    : [
        [0]: "post-1.txt"
        [1]: "post-2.txt"
        [2]: "post-3.txt"
    ]
    sa_access_key_id: "YCAJEfd47xShW5cXANUYxdl1y"
    sa_secret_key   : [secret]

Resources:
    + 9 created

Duration: 12s

++ pulumi stack output
Current stack outputs (4):
    OUTPUT            VALUE
    bucket_name       les25-s3-dev
    created_keys      ["post-1.txt","post-2.txt","post-3.txt"]
    sa_access_key_id  YCAJEfd47xShW5cXANUYxdl1y
    sa_secret_key     [secret]
++ read -p 'press any key to destroy and remove stack ...'
press any key to destroy and remove stack ...
++ pulumi destroy
Previewing destroy (dev):
     Type                                              Name                    Plan       
 -   pulumi:pulumi:Stack                               yc_s3-dev               delete     
 -   ├─ yandex:index:StorageObject                     obj-2                   delete     
 -   ├─ yandex:index:StorageBucket                     les25-s3-dev            delete     
 -   ├─ yandex:index:ResourcemanagerFolderIamMember    les25sa-storage-editor  delete     
 -   ├─ yandex:index:IamServiceAccount                 les25-s3                delete     
 -   ├─ yandex:index:StorageObject                     obj-3                   delete     
 -   ├─ yandex:index:StorageObject                     obj-1                   delete     
 -   ├─ yandex:index:IamServiceAccountStaticAccessKey  les25sa-static-key      delete     
 -   └─ pulumi:providers:yandex                        yandex                  delete     

Outputs:
  - bucket_name     : "les25-s3-dev"
  - created_keys    : [
  -     [0]: "post-1.txt"
  -     [1]: "post-2.txt"
  -     [2]: "post-3.txt"
    ]
  - sa_access_key_id: "YCAJEfd47xShW5cXANUYxdl1y"
  - sa_secret_key   : [secret]

Resources:
    - 9 to delete

Do you want to perform this destroy? yes
Destroying (dev):
     Type                                              Name                    Status              
 -   pulumi:pulumi:Stack                               yc_s3-dev               deleted (0.00s)     
 -   ├─ yandex:index:StorageObject                     obj-3                   deleted (0.31s)     
 -   ├─ yandex:index:StorageObject                     obj-2                   deleted (0.36s)     
 -   ├─ yandex:index:StorageObject                     obj-1                   deleted (0.35s)     
 -   ├─ yandex:index:StorageBucket                     les25-s3-dev            deleted (11s)       
 -   ├─ yandex:index:IamServiceAccountStaticAccessKey  les25sa-static-key      deleted (0.96s)     
 -   ├─ yandex:index:ResourcemanagerFolderIamMember    les25sa-storage-editor  deleted (3s)        
 -   ├─ yandex:index:IamServiceAccount                 les25-s3                deleted (2s)        
 -   └─ pulumi:providers:yandex                        yandex                  deleted (0.01s)     

Outputs:
  - bucket_name     : "les25-s3-dev"
  - created_keys    : [
  -     [0]: "post-1.txt"
  -     [1]: "post-2.txt"
  -     [2]: "post-3.txt"
    ]
  - sa_access_key_id: "YCAJEfd47xShW5cXANUYxdl1y"
  - sa_secret_key   : [secret]

Resources:
    - 9 deleted

Duration: 20s

The resources in the stack have been deleted, but the history and configuration associated with the stack are still maintained. 
If you want to remove the stack completely, run `pulumi stack rm dev`.
++ pulumi stack rm dev
This will permanently remove the 'dev' stack!
Please confirm that this is what you'd like to do by typing `dev`: dev
Stack 'dev' has been removed!
++ set +x
