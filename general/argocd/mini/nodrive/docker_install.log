aleksey@first:~/OtusTeam/IaC/general/argocd/mini$ ./ans_inv_list.sh 
++ ansible-inventory --list
{
    "_meta": {
        "hostvars": {
            "ac-mini": {
                "ansible_host": "89.169.134.98"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "mini"
        ]
    },
    "mini": {
        "hosts": [
            "ac-mini"
        ]
    }
}
aleksey@first:~/OtusTeam/IaC/general/argocd/mini$ . export.sh 
aleksey@first:~/OtusTeam/IaC/general/argocd/mini$ ./ans_ping.sh 
++ ansible -m ping all
ac-mini | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
aleksey@first:~/OtusTeam/IaC/general/argocd/mini$ ansible-playbook docker_install.yml 

PLAY [Install Docker] ************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************************************************************************************
ok: [ac-mini]

TASK [Update package list] *******************************************************************************************************************************************************************************************************************
changed: [ac-mini]

TASK [Install required packages] *************************************************************************************************************************************************************************************************************
ok: [ac-mini]

TASK [Create directory for Docker GPG key] ***************************************************************************************************************************************************************************************************
ok: [ac-mini]

TASK [Download and dearmor Docker GPG key] ***************************************************************************************************************************************************************************************************
changed: [ac-mini]

TASK [Add Docker repository to Apt sources] **************************************************************************************************************************************************************************************************
changed: [ac-mini]

TASK [Update package list again] *************************************************************************************************************************************************************************************************************
changed: [ac-mini]

TASK [Install Docker] ************************************************************************************************************************************************************************************************************************
changed: [ac-mini]

PLAY RECAP ***********************************************************************************************************************************************************************************************************************************
ac-mini                    : ok=8    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

aleksey@first:~/OtusTeam/IaC/general/argocd/mini$ ssh ubuntu@89.169.134.98
Welcome to Ubuntu 22.04.4 LTS (GNU/Linux 5.15.0-119-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Sat Sep  7 10:04:29 AM UTC 2024

  System load:  0.22              Processes:             139
  Usage of /:   9.3% of 49.12GB   Users logged in:       0
  Memory usage: 9%                IPv4 address for eth0: 10.128.0.7
  Swap usage:   0%

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

16 updates can be applied immediately.
10 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status


Last login: Sat Sep  7 09:59:31 2024 from 51.250.13.236
ubuntu@fhms5hgndik1617st1ig:~$ sudo docker run hello-world
Unable to find image 'hello-world:latest' locally
latest: Pulling from library/hello-world
c1ec31eb5944: Pull complete 
Digest: sha256:53cc4d415d839c98be39331c948609b659ed725170ad2ca8eb36951288f81b75
Status: Downloaded newer image for hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the "hello-world" image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/

ubuntu@fhms5hgndik1617st1ig:~$ exit
logout
Connection to 89.169.134.98 closed.
