ubuntu@fhm3u5vsb7q5j2rcpl77:~/hello$ ./build_deploy.sh 
++ minikube image rm nginx1:1
‚ùó  Failed to remove images for profile minikube error removing images: remove image docker: docker rmi nginx1:1: Process exited with status 1
stdout:

stderr:
Error response from daemon: No such image: nginx1:1

++ minikube image build -t nginx1:1 .
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 185B done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/nginx:latest
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/3] FROM docker.io/library/nginx:latest
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 62B done
#5 DONE 0.0s

#6 [2/3] COPY index.html /usr/share/nginx/html/index.html
#6 CACHED

#7 [3/3] COPY nginx.conf /etc/nginx/nginx.conf
#7 CACHED

#8 exporting to image
#8 exporting layers done
#8 writing image sha256:0fa90f439c2517bd05956201d043d11de7bbb222d7ae2569b1f0efef66442f8f 0.0s done
#8 naming to docker.io/library/nginx1:1 0.0s done
#8 DONE 0.1s
++ kubectl create deployment nginx1 --image=nginx1:1
deployment.apps/nginx1 created
++ kubectl get deployments nginx1
NAME     READY   UP-TO-DATE   AVAILABLE   AGE
nginx1   0/1     1            0           0s
++ kubectl get pods nginx1
Error from server (NotFound): pods "nginx1" not found
++ kubectl get services
NAME          TYPE           CLUSTER-IP       EXTERNAL-IP     PORT(S)          AGE
balanced      LoadBalancer   10.102.20.175    10.102.20.175   8080:32502/TCP   6d18h
bar-service   ClusterIP      10.105.171.144   <none>          8080/TCP         6d18h
foo-service   ClusterIP      10.100.2.159     <none>          8080/TCP         6d18h
kubernetes    ClusterIP      10.96.0.1        <none>          443/TCP          6d22h
++ kubectl expose deployment nginx1 --type=NodePort --port=80
service/nginx1 exposed
++ kubectl get services nginx1
NAME     TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
nginx1   NodePort   10.100.99.192   <none>        80:30153/TCP   1s
++ sleep 5
++ minikube service nginx1
|-----------|--------|-------------|---------------------------|
| NAMESPACE |  NAME  | TARGET PORT |            URL            |
|-----------|--------|-------------|---------------------------|
| default   | nginx1 |          80 | http://192.168.49.2:30153 |
|-----------|--------|-------------|---------------------------|
üéâ  Opening service default/nginx1 in default browser...
üëâ  http://192.168.49.2:30153
+++ minikube service nginx1 --url
++ curl http://192.168.49.2:30153
<!DOCTYPE html>
<html>
<body>
<h1>Hello</h1>
<p>My IP address is: <script>document.write("<b>" + window.location.hostname + "</b>");</script></p>
<p>My hostname is: nginx1</p>
</body>
</html>
++ kubectl delete service,deployment nginx1
service "nginx1" deleted
deployment.apps "nginx1" deleted
++ sleep 5
++ minikube image rm nginx1:1
