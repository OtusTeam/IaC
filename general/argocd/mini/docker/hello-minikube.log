aleksey@first:~/OtusTeam/IaC/general/argocd/mini/docker$ ansible-playbook hello-minikube.yml 

PLAY [Hello Minikube create, run and destroy demo] *******************************************************************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************************************************************************************************
ok: [ac-mini-docker]

TASK [Create deployment hello-minikube] ******************************************************************************************************************************************************************************************
changed: [ac-mini-docker]

TASK [Expose] ********************************************************************************************************************************************************************************************************************
changed: [ac-mini-docker]

TASK [Get services ans deployments] **********************************************************************************************************************************************************************************************
changed: [ac-mini-docker]

TASK [Print get service and deployments output] **********************************************************************************************************************************************************************************
ok: [ac-mini-docker] => {
    "get_services_deployments.stdout": "NAME             TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE\nhello-minikube   NodePort   10.103.186.12   <none>        8080:31761/TCP   1s\nNAME             READY   UP-TO-DATE   AVAILABLE   AGE\nhello-minikube   0/1     1            0           1s"
}

TASK [Sleep] *********************************************************************************************************************************************************************************************************************
changed: [ac-mini-docker]

TASK [Minikube service hello-minikube] *******************************************************************************************************************************************************************************************
changed: [ac-mini-docker]

TASK [Print minikube service output] *********************************************************************************************************************************************************************************************
ok: [ac-mini-docker] => {
    "minikube_service.stdout": "|-----------|----------------|-------------|---------------------------|\n| NAMESPACE |      NAME      | TARGET PORT |            URL            |\n|-----------|----------------|-------------|---------------------------|\n| default   | hello-minikube |        8080 | http://192.168.49.2:31761 |\n|-----------|----------------|-------------|---------------------------|\n* Opening service default/hello-minikube in default browser...\n  http://192.168.49.2:31761"
}

TASK [Curl] **********************************************************************************************************************************************************************************************************************
changed: [ac-mini-docker]

TASK [Print curl output] *********************************************************************************************************************************************************************************************************
ok: [ac-mini-docker] => {
    "msg": "Request served by hello-minikube-5c898d8489-ndhcr\n\nHTTP/1.1 GET /\n\nHost: 192.168.49.2:31761\nAccept: */*\nUser-Agent: curl/7.81.0"
}

TASK [Delete service and deployment] *********************************************************************************************************************************************************************************************
changed: [ac-mini-docker]

TASK [Get services ans deployments after del] ************************************************************************************************************************************************************************************
changed: [ac-mini-docker]

TASK [Print get service and deployments output after del] ************************************************************************************************************************************************************************
ok: [ac-mini-docker] => {
    "get_services_deployments_after_del.stdout": ""
}

PLAY RECAP ***********************************************************************************************************************************************************************************************************************
ac-mini-docker             : ok=13   changed=8    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

